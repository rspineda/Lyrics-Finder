(this["webpackJsonplyrics-finder"]=this["webpackJsonplyrics-finder"]||[]).push([[0],{102:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=a(60),i=a.n(l),s=a(73),m=a(31),u=a(21),g=a(10),d=a(170),E=(a(102),a(61)),p=a.n(E),f=function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",null,"Mis canciones"),r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}))},h=a(173),v=a(153),y=a(152),b=a(35),S=a.n(b),j=function(){var e=Object(g.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{severity:"error",style:{maxWidth:752,margin:"2rem auto 0"}},r.a.createElement(v.a,null,"Error 404"),r.a.createElement("p",null,"Recurso ",r.a.createElement("b",null,r.a.createElement("i",null,e.pathname))," no encontrado")),r.a.createElement("div",{style:{margin:"1rem auto",textAlign:"center"}},r.a.createElement(u.b,{to:"/"},r.a.createElement(y.a,{color:"primary"},r.a.createElement(S.a,null)))))},w=a(154),O=a(155),N=a(156),k=a(159),x=a(158),C=a(157),A=a(32),W=Object(w.a)({root:{maxWidth:800,margin:"2rem auto"},lyrics:{whiteSpace:"pre-wrap !important"},title:{marginBottom:"3rem !important"},media:{backgroundSize:"cover",height:"50vh"},goHome:{justifyContent:"center"}}),q=function(e){var t=e.mySongs,a=W(),n=t[Object(g.g)().id];return r.a.createElement(O.a,{className:a.root},r.a.createElement(N.a,{className:a.goHome},r.a.createElement(C.a,{size:"large",color:"primary",component:u.b,to:"/"},r.a.createElement(S.a,null),"Home")),r.a.createElement(x.a,{className:a.media,image:n.avatar,title:n.artist}),r.a.createElement(k.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h4",component:"h2",className:a.title},n.artist," - ",n.song),r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p",className:a.lyrics},n.lyrics)))},B=a(45),z=a(172),I=a(77),J=a.n(I),F=Object(w.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center","&>*":{margin:e.spacing(0),width:"auto"}}}})),M=function(e){var t=e.search,a=e.setSearch,n=e.setError,o=F();return r.a.createElement("form",{className:o.root,autoComplete:"on",onSubmit:function(e){e.preventDefault(),a({artist:e.target.artist.value,song:e.target.song.value,request:!0})},onReset:function(e){a({artist:"",song:"",request:!1}),n(!1)}},r.a.createElement(y.a,{color:"primary",type:"reset"},r.a.createElement(S.a,null)),r.a.createElement(z.a,{id:"artist",name:"artist",label:"Artista",variant:"outlined",size:"small",value:t.artist,onChange:function(e){a(Object(B.a)(Object(B.a)({},t),{},{artist:e.target.value,request:!1}))},required:!0}),r.a.createElement(z.a,{id:"song",name:"song",label:"Canci\xf3n",variant:"outlined",size:"small",value:t.song,onChange:function(e){a(Object(B.a)(Object(B.a)({},t),{},{song:e.target.value,request:!1}))},required:!0}),r.a.createElement(y.a,{color:"primary",type:"submit"},r.a.createElement(J.a,null)))},L=a(83),R=Object(w.a)({root:{maxWidth:800,margin:"2rem auto"},lyrics:{whiteSpace:"pre-wrap !important"},title:{marginBottom:"3rem !important"},media:{backgroundSize:"cover",height:"50vh"},addBtn:{justifyContent:"flex-end"}}),H=function(e){var t=e.currentSong,a=e.setCurrentSong,n=(e.mySongs,e.setMySongs),o=e.setSearch,c=R();return r.a.createElement(O.a,{className:c.root},r.a.createElement(x.a,{className:c.media,image:t.avatar,title:t.artist}),r.a.createElement(k.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h4",component:"h2",className:c.title},t.artist," - ",t.song),r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p",className:c.lyrics},t.lyrics)),r.a.createElement(N.a,{className:c.addBtn},r.a.createElement(C.a,{size:"small",color:"primary",onClick:function(){n((function(e){return[].concat(Object(L.a)(e),[t])})),o({artist:"",song:"",request:!1}),a({})}},"Agregar")))},T=a(160),U=a(165),D=a(166),P=a(168),G=a(167),$=a(176),K=a(81),Q=a.n(K),V=a(175),X=a(164),Y=a(162),Z=a(163),_=a(161),ee=a(78),te=a.n(ee),ae=a(79),ne=a.n(ae),re=a(80),oe=a.n(re),ce=function(e){var t=e.id,a=e.deleteSong,o=Object(n.useState)(!1),c=Object(m.a)(o,2),l=c[0],i=c[1],s=function(){i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{edge:"end",onClick:function(){i(!0)}},r.a.createElement(te.a,null)),r.a.createElement(V.a,{open:l,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(_.a,{id:"alert-dialog-title"},"Alerta de Eliminaci\xf3n"),r.a.createElement(Y.a,null,r.a.createElement(Z.a,{id:"alert-dialog-description"},"\xbfEst\xe1s apunto de borrar la canci\xf3n con el id ",r.a.createElement("b",null,t),"?")),r.a.createElement(X.a,null,r.a.createElement(C.a,{onClick:function(){a(t),s()},color:"primary"},r.a.createElement(ne.a,null)," S\xcd, eliminar"),r.a.createElement(C.a,{onClick:s,color:"primary",autoFocus:!0},r.a.createElement(oe.a,null)," NO, cancelar"))))},le=Object(w.a)((function(e){return{root:{flexGrow:1,maxWidth:752,margin:"auto"},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},alert:{fontSize:"1.5rem",justifyContent:"center",alignItems:"center"}}})),ie=function(e){var t=e.mySongs,a=e.setMySongs,n=le(),o=function(e){var n=t.filter((function(t,a){return a!==e}));a(n),localStorage.setItem("mySongs",JSON.stringify(n))};return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.demo},0===t.length?r.a.createElement(h.a,{severity:"error",className:n.alert},"No tienes canciones almacenadas"):r.a.createElement(T.a,null,t.map((function(e,t){return r.a.createElement(U.a,{key:t},r.a.createElement(D.a,null,r.a.createElement($.a,{alt:e.artist,src:e.avatar})),r.a.createElement(G.a,{primary:e.song,secondary:e.artist}),r.a.createElement(P.a,null,r.a.createElement(y.a,{edge:"end",component:u.b,to:"/cancion/".concat(t)},r.a.createElement(Q.a,null)),r.a.createElement(ce,{id:t,deleteSong:o})))})))))},se=a(169),me=Object(w.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",transform:"scale(4)"}}})),ue=function(){var e=me();return r.a.createElement("div",{className:e.root},r.a.createElement(se.a,null))};var ge=function(){var e=JSON.parse(localStorage.getItem("mySongs"))||[],t=Object(n.useState)(e),a=Object(m.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)({artist:"",song:"",request:!1}),E=Object(m.a)(l,2),p=E[0],y=E[1],b=Object(n.useState)({}),S=Object(m.a)(b,2),w=S[0],O=S[1],N=Object(n.useState)(!1),k=Object(m.a)(N,2),x=k[0],C=k[1];return Object(n.useEffect)((function(){localStorage.setItem("mySongs",JSON.stringify(o));var e=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,r,o,c,l,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.artist,a=p.song,e.prev=1,n="https://theaudiodb.com/api/v1/json/1/search.php?s=".concat(t),r="https://api.lyrics.ovh/v1/".concat(t,"/").concat(a),e.next=6,fetch(n);case 6:return o=e.sent,e.next=9,fetch(r);case 9:return c=e.sent,e.next=12,o.json();case 12:return l=e.sent,e.next=15,c.json();case 15:s=e.sent,console.log("el Json del artista",l),console.log("el Json de la cancion",s),O({artist:l.artists[0].strArtist,avatar:l.artists[0].strArtistThumb,song:a,lyrics:s.lyrics}),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0),y({artist:t,song:a,request:!1}),C(!0);case 26:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}();p.request&&e()}),[p]),r.a.createElement(u.a,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement("main",{className:"App-main"},r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/"},r.a.createElement(M,{search:p,setSearch:y,setError:C}),p.request?0===Object.keys(w).length?r.a.createElement(ue,null):r.a.createElement(H,{currentSong:w,setCurrentSong:O,mySongs:o,setMySongs:c,setSearch:y}):x?r.a.createElement(h.a,{severity:"error",style:{maxWidth:752,margin:"2rem auto 0"}},r.a.createElement(v.a,null,"Error"),"Error al consultar la petici\xf3n:",r.a.createElement("ul",null,r.a.createElement("li",null,"El artista: ",r.a.createElement("b",null,p.artist)," o"),r.a.createElement("li",null,"La canci\xf3n ",r.a.createElement("b",null,p.song)))):r.a.createElement(ie,{mySongs:o,setMySongs:c})),r.a.createElement(g.a,{path:"/cancion/:id",children:r.a.createElement(q,{mySongs:o})}),r.a.createElement(g.a,{path:"*",component:j}))))))},de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var pe=a(82),fe=a(171),he=Object(pe.a)({palette:{primary:{main:"#61DAFB"}}});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe.a,{theme:he},r.a.createElement(ge,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Lyrics-Finder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Lyrics-Finder","/service-worker.js");de?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ee(t,e)}))}}()},61:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},96:function(e,t,a){e.exports=a(109)}},[[96,1,2]]]);
//# sourceMappingURL=main.cbb8eb15.chunk.js.map